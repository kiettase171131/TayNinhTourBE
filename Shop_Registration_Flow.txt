================================================================================
                    FLOW ÄÄ‚NG KÃ SPECIALTY SHOP - TAYNINHTOURBE
================================================================================

ğŸ“‹ Tá»”NG QUAN
============
Flow Ä‘Äƒng kÃ½ cho phÃ©p User Ä‘Äƒng kÃ½ trá»Ÿ thÃ nh Specialty Shop Owner Ä‘á»ƒ quáº£n lÃ½ 
shop Ä‘áº·c sáº£n tham gia vÃ o há»‡ sinh thÃ¡i tour du lá»‹ch TÃ¢y Ninh.

ğŸ”„ FLOW CHÃNH
=============
1. User Registration (Role: "User")
2. Shop Application Submission  
3. Admin Review Process
4. Approval/Rejection Decision
5. Role Update to "Specialty Shop"
6. Shop Entity Creation
7. Shop Management

ğŸ“Š DATABASE SCHEMA
==================

ShopApplication Entity:
-----------------------
- Id (Guid, PK)
- UserId (Guid, FK to User) - ngÆ°á»i Ä‘Äƒng kÃ½
- ShopName (string, required) - tÃªn shop
- ShopDescription (string, optional) - mÃ´ táº£ shop
- BusinessLicense (string, required) - sá»‘ giáº¥y phÃ©p kinh doanh
- Location (string, required) - Ä‘á»‹a chá»‰ shop
- PhoneNumber (string, required) - sá»‘ Ä‘iá»‡n thoáº¡i
- Email (string, required) - email liÃªn há»‡
- Website (string, optional) - website shop
- ShopType (string, optional) - loáº¡i shop (Souvenir, Food, Craft...)
- BusinessDocuments (string, optional) - link tÃ i liá»‡u kinh doanh
- Status (enum) - tráº¡ng thÃ¡i Ä‘Æ¡n (Pending/Approved/Rejected)
- RejectionReason (string, nullable) - lÃ½ do tá»« chá»‘i
- SubmittedAt (DateTime) - thá»i gian ná»™p Ä‘Æ¡n
- ProcessedAt (DateTime, nullable) - thá»i gian xá»­ lÃ½
- ProcessedById (Guid, nullable, FK to User) - admin xá»­ lÃ½
- CreatedAt, UpdatedAt, IsDeleted, IsActive (BaseEntity fields)

ShopApplicationStatus Enum:
---------------------------
- Pending = 0 (Chá» xá»­ lÃ½)
- Approved = 1 (ÄÃ£ duyá»‡t)
- Rejected = 2 (Tá»« chá»‘i)

Role Updates:
-------------
ThÃªm role má»›i: "Specialty Shop" vÃ o Constants vÃ  DataSeeder

ğŸŒ API ENDPOINTS
================

USER SIDE (AccountController):
------------------------------
POST /api/Account/shop-application
- Authorization: Bearer token, Role "User"
- Body: SubmitShopApplicationDto (multipart/form-data)
- Function: User ná»™p Ä‘Æ¡n Ä‘Äƒng kÃ½ shop
- Response: Confirmation message

GET /api/Account/my-shop-application  
- Authorization: Bearer token, Role "User"
- Function: Xem tráº¡ng thÃ¡i Ä‘Æ¡n Ä‘Äƒng kÃ½ cá»§a mÃ¬nh
- Response: ShopApplicationDto hoáº·c null

ADMIN SIDE (CmsController):
---------------------------
GET /api/Cms/shop-applications
- Authorization: Bearer token, Role "Admin"
- Query params: status, pageIndex, pageSize
- Function: Láº¥y danh sÃ¡ch Ä‘Æ¡n Ä‘Äƒng kÃ½ shop
- Response: Paginated list of ShopApplicationSummaryDto

GET /api/Cms/shop-applications/{id}
- Authorization: Bearer token, Role "Admin"  
- Function: Xem chi tiáº¿t Ä‘Æ¡n Ä‘Äƒng kÃ½
- Response: ShopApplicationDto with full details

PUT /api/Cms/shop-applications/{id}/approve
- Authorization: Bearer token, Role "Admin"
- Function: Duyá»‡t Ä‘Æ¡n Ä‘Äƒng kÃ½ shop
- Process: User role â†’ "Specialty Shop", táº¡o Shop entity
- Response: Success message

PUT /api/Cms/shop-applications/{id}/reject
- Authorization: Bearer token, Role "Admin"
- Body: RejectShopApplicationDto (reason)
- Function: Tá»« chá»‘i Ä‘Æ¡n Ä‘Äƒng kÃ½ vá»›i lÃ½ do
- Response: Success message

ğŸ“ DTOs DESIGN
==============

SubmitShopApplicationDto:
-------------------------
- ShopName (string, required)
- ShopDescription (string, optional)
- BusinessLicense (string, required)
- Location (string, required)
- PhoneNumber (string, required)
- Email (string, required, email format)
- Website (string, optional, URL format)
- ShopType (string, optional)
- BusinessDocuments (IFormFile[], optional)

ShopApplicationDto:
-------------------
- Id (Guid)
- ShopName (string)
- ShopDescription (string)
- BusinessLicense (string)
- Location (string)
- PhoneNumber (string)
- Email (string)
- Website (string)
- ShopType (string)
- BusinessDocuments (List<string>) - file URLs
- Status (ShopApplicationStatus)
- RejectionReason (string)
- SubmittedAt (DateTime)
- ProcessedAt (DateTime?)
- UserInfo (UserSummaryDto)
- ProcessedByInfo (UserSummaryDto?)

ShopApplicationSummaryDto:
--------------------------
- Id (Guid)
- ShopName (string)
- Location (string)
- Status (ShopApplicationStatus)
- SubmittedAt (DateTime)
- UserName (string)
- UserEmail (string)

RejectShopApplicationDto:
-------------------------
- Reason (string, required)

âš™ï¸ BUSINESS LOGIC FLOW
======================

1. SUBMIT APPLICATION (User):
-----------------------------
a. Validate user role = "User"
b. Validate input data (required fields, email format, etc.)
c. Check duplicate: user chÆ°a cÃ³ Ä‘Æ¡n pending
d. Upload business documents to file storage
e. Create ShopApplication entity vá»›i status = Pending
f. Send confirmation email to user
g. Return success response

2. ADMIN REVIEW PROCESS:
------------------------
a. Admin login to CMS
b. Navigate to Shop Applications management
c. View list of pending applications
d. Click vÃ o application Ä‘á»ƒ xem chi tiáº¿t
e. Review business documents vÃ  thÃ´ng tin
f. Make decision: Approve hoáº·c Reject

3. APPROVE APPLICATION (Admin):
-------------------------------
a. Validate application status = Pending
b. Begin database transaction:
   - Get/Create "Specialty Shop" role
   - Update user.RoleId = specialtyShopRole.Id
   - Create Shop entity from application data:
     * Name = app.ShopName
     * Description = app.ShopDescription
     * Location = app.Location
     * PhoneNumber = app.PhoneNumber
     * Email = app.Email
     * Website = app.Website
     * ShopType = app.ShopType
     * CreatedById = app.UserId
     * IsActive = true
   - Update application:
     * Status = Approved
     * ProcessedAt = DateTime.Now
     * ProcessedById = currentAdminId
c. Commit transaction
d. Send approval email notification
e. Return success response

4. REJECT APPLICATION (Admin):
------------------------------
a. Validate application status = Pending
b. Update application:
   - Status = Rejected
   - RejectionReason = provided reason
   - ProcessedAt = DateTime.Now
   - ProcessedById = currentAdminId
c. Send rejection email with reason
d. Return success response

ğŸ” SECURITY & AUTHORIZATION
===========================

Role Management:
----------------
- Constants.RoleSpecialtyShopName = "Specialty Shop"
- DataSeeder: thÃªm role "Specialty Shop" vÃ o database
- Authorization attributes update

Controller Authorization:
-------------------------
- AccountController.SubmitShopApplication: [Authorize(Roles = "User")]
- CmsController.ShopApplications: [Authorize(Roles = "Admin")]
- ShopController: [Authorize(Roles = "Admin,Tour Company,Specialty Shop")]

Service Authorization:
----------------------
- ShopService: Specialty Shop chá»‰ cÃ³ thá»ƒ CRUD shop cá»§a mÃ¬nh
- Ownership check: shop.CreatedById == currentUserId
- Admin vÃ  Tour Company cÃ³ thá»ƒ CRUD táº¥t cáº£ shops

File Upload Security:
---------------------
- Validate file types (PDF, JPG, PNG only)
- File size limits (max 5MB per file)
- Virus scanning (if available)
- Secure file storage with unique names

ğŸ“§ EMAIL NOTIFICATIONS
======================

1. Application Submitted:
-------------------------
Subject: "ÄÆ¡n Ä‘Äƒng kÃ½ Specialty Shop Ä‘Ã£ Ä‘Æ°á»£c tiáº¿p nháº­n"
Content: 
- XÃ¡c nháº­n Ä‘Ã£ nháº­n Ä‘Æ¡n
- Thá»i gian xá»­ lÃ½ dá»± kiáº¿n (3-5 ngÃ y lÃ m viá»‡c)
- ThÃ´ng tin liÃªn há»‡ support

2. Application Approved:
------------------------
Subject: "ChÃºc má»«ng! ÄÆ¡n Ä‘Äƒng kÃ½ Specialty Shop Ä‘Ã£ Ä‘Æ°á»£c duyá»‡t"
Content:
- ThÃ´ng bÃ¡o approval
- HÆ°á»›ng dáº«n Ä‘Äƒng nháº­p vá»›i role má»›i
- Link Ä‘áº¿n shop management dashboard
- ThÃ´ng tin liÃªn há»‡ support

3. Application Rejected:
------------------------
Subject: "ÄÆ¡n Ä‘Äƒng kÃ½ Specialty Shop cáº§n bá»• sung thÃ´ng tin"
Content:
- ThÃ´ng bÃ¡o rejection
- LÃ½ do cá»¥ thá»ƒ tá»« admin
- HÆ°á»›ng dáº«n ná»™p láº¡i Ä‘Æ¡n
- ThÃ´ng tin liÃªn há»‡ support

ğŸ¯ USER JOURNEY COMPLETE
========================

Step 1: User Registration
-------------------------
- User truy cáº­p website
- ÄÄƒng kÃ½ tÃ i khoáº£n vá»›i email/OTP verification
- Role máº·c Ä‘á»‹nh: "User"

Step 2: Shop Application
------------------------
- User login vÃ o account
- Navigate to "ÄÄƒng kÃ½ Specialty Shop"
- Fill form vá»›i thÃ´ng tin shop vÃ  business documents
- Submit application
- Nháº­n email confirmation

Step 3: Admin Processing
------------------------
- Admin login to CMS
- Review pending shop applications
- Check business documents vÃ  thÃ´ng tin
- Make approve/reject decision
- Send notification email

Step 4: Post-Approval
---------------------
- User nháº­n email approval
- Login láº¡i â†’ role Ä‘Ã£ thÃ nh "Specialty Shop"
- Access shop management features
- Update shop information
- Participate in tour timeline
- Receive bookings from tours

âœ… SPECIALTY SHOP PERMISSIONS
=============================

Shop Management:
----------------
- View vÃ  edit shop information
- Upload shop images
- Update opening hours
- Set shop status (open/closed)
- Manage shop products/services

Tour Integration:
-----------------
- Participate in tour timeline
- Receive booking notifications
- Confirm/decline tour visits
- Provide tour group services

Analytics & Reports:
--------------------
- View shop visit statistics
- Revenue reports from tours
- Customer feedback vÃ  ratings
- Performance metrics

ğŸ—“ï¸ SHOP TIMELINE INTEGRATION
=============================

Timeline Assignment Process:
----------------------------
1. Tour Company táº¡o TourDetails cho TourTemplate
2. Tour Company design timeline cho TourDetails
3. Trong timeline, Tour Company cÃ³ thá»ƒ:
   - Add TimelineItem vá»›i ShopId Ä‘á»ƒ láº¥y thÃ´ng tin shop
   - Set thá»i gian visit shop (start time, duration)
   - Set mÃ´ táº£ hoáº¡t Ä‘á»™ng táº¡i shop
   - Timeline sáº½ hiá»ƒn thá»‹ thÃ´ng tin shop (tÃªn, Ä‘á»‹a chá»‰, SÄT, etc.)

Timeline Item Structure:
------------------------
TimelineItem Entity (existing):
- Id (Guid, PK)
- TourDetailsId (Guid, FK)
- ShopId (Guid, FK) - QUAN TRá»ŒNG: link Ä‘áº¿n Shop Ä‘á»ƒ láº¥y thÃ´ng tin
- Order (int) - thá»© tá»± trong timeline
- StartTime (TimeSpan) - giá» báº¯t Ä‘áº§u
- Duration (TimeSpan) - thá»i gian á»Ÿ shop
- Title (string) - tiÃªu Ä‘á» hoáº¡t Ä‘á»™ng
- Description (string) - mÃ´ táº£ chi tiáº¿t
- Notes (string) - ghi chÃº cho tour guide

Shop Timeline APIs (Simplified):
--------------------------------
GET /api/Shop/my-timeline-usage
- Authorization: Role "Specialty Shop"
- Function: Xem cÃ¡c tour Ä‘Ã£ sá»­ dá»¥ng thÃ´ng tin shop mÃ¬nh
- Response: List of timeline items cÃ³ ShopId = current shop

Tour Company Timeline APIs:
---------------------------
GET /api/TourDetails/{id}/available-shops
- Authorization: Role "Tour Company"
- Query: location, shopType, rating
- Function: Browse shops Ä‘á»ƒ chá»n cho timeline
- Response: List of ShopSummaryDto

POST /api/TourDetails/{id}/timeline-items
- Authorization: Role "Tour Company"
- Body: CreateTimelineItemDto (include ShopId)
- Function: ThÃªm shop vÃ o timeline (chá»‰ Ä‘á»ƒ láº¥y thÃ´ng tin)
- Response: TimelineItemDto with shop info

PUT /api/TourDetails/timeline-items/{id}
- Authorization: Role "Tour Company"
- Body: UpdateTimelineItemDto
- Function: Update timeline item (change shop, time, etc.)
- Response: Success/failure

Timeline Business Logic (Simplified):
-------------------------------------
1. Tour Company Design Timeline:
   - Select TourDetails cáº§n design timeline
   - Browse available shops by location/type/rating
   - Add shops to timeline Ä‘á»ƒ láº¥y thÃ´ng tin shop
   - Set thá»i gian visit vÃ  mÃ´ táº£ hoáº¡t Ä‘á»™ng
   - Timeline hiá»ƒn thá»‹: thá»i gian + thÃ´ng tin shop + mÃ´ táº£

2. Timeline Display:
   - Má»—i timeline item hiá»ƒn thá»‹:
     * Thá»i gian: 10:30 - 11:00
     * Hoáº¡t Ä‘á»™ng: "Mua sáº¯m Ä‘áº·c sáº£n"
     * Shop: "Äáº·c Sáº£n TÃ¢y Ninh ABC"
     * Äá»‹a chá»‰: "123 ÄÆ°á»ng ABC, TÃ¢y Ninh"
     * SÄT: "0123456789"
     * Ghi chÃº: "Shop chuyÃªn bÃ¡nh trÃ¡ng, máº¯m ruá»‘c"

3. Timeline Validation (Basic):
   - Validate timeline order há»£p lÃ½
   - Check total duration fits tour time
   - Ensure shop information complete

Timeline DTOs (Simplified):
---------------------------
CreateTimelineItemDto:
- TourDetailsId (Guid)
- ShopId (Guid, optional) - Ä‘á»ƒ láº¥y thÃ´ng tin shop
- Order (int)
- StartTime (TimeSpan)
- Duration (TimeSpan)
- Title (string)
- Description (string)

TimelineItemDto:
- Id (Guid)
- Order (int)
- StartTime (TimeSpan)
- Duration (TimeSpan)
- Title (string)
- Description (string)
- ShopInfo (ShopSummaryDto, nullable) - thÃ´ng tin shop náº¿u cÃ³

TimelineUsageDto:
- TimelineItemId (Guid)
- TourDetailsTitle (string)
- TourDate (DateTime)
- StartTime (TimeSpan)
- Duration (TimeSpan)
- ActivityDescription (string)
- TourCompanyInfo (UserSummaryDto)

Shop Timeline Workflow (Simplified):
------------------------------------
1. Tour Company creates TourDetails
2. Tour Company designs timeline:
   - Browse available shops by location/type/rating
   - Select shops Ä‘á»ƒ láº¥y thÃ´ng tin cho timeline
   - Set visit time vÃ  duration
   - Add activity description
   - Timeline hiá»ƒn thá»‹ thÃ´ng tin shop Ä‘Ã£ chá»n
3. Timeline Ä‘Æ°á»£c publish vá»›i thÃ´ng tin shop
4. Tour guide nháº­n timeline vá»›i Ä‘áº§y Ä‘á»§ thÃ´ng tin shop
5. During tour execution:
   - Tour guide follows timeline
   - Visit shops theo thÃ´ng tin trong timeline
   - Shop information helps guide locate vÃ  contact

Shop Information Usage:
-----------------------
Timeline sáº½ hiá»ƒn thá»‹ thÃ´ng tin shop:
- TÃªn shop
- Äá»‹a chá»‰ chÃ­nh xÃ¡c
- Sá»‘ Ä‘iá»‡n thoáº¡i liÃªn há»‡
- Loáº¡i shop (Souvenir, Food, Craft...)
- Giá» má»Ÿ cá»­a (náº¿u cÃ³)
- Ghi chÃº Ä‘áº·c biá»‡t

Shop Timeline Dashboard (Simplified):
------------------------------------
For Specialty Shop owners:
- View timeline usage: xem cÃ¡c tour Ä‘Ã£ sá»­ dá»¥ng thÃ´ng tin shop
- Statistics: sá»‘ láº§n Ä‘Æ°á»£c include trong timeline
- Tour company contacts: danh sÃ¡ch tour company Ä‘Ã£ sá»­ dá»¥ng
- Shop information accuracy: Ä‘áº£m báº£o thÃ´ng tin shop luÃ´n chÃ­nh xÃ¡c

ğŸ”§ TECHNICAL IMPLEMENTATION
===========================

Required Files for Shop Registration:
-------------------------------------
1. Entities/ShopApplication.cs
2. Enums/ShopApplicationStatus.cs
3. DTOs/Request/SubmitShopApplicationDto.cs
4. DTOs/Response/ShopApplicationDto.cs
5. Services/Interface/IShopApplicationService.cs
6. Services/ShopApplicationService.cs
7. Controllers/AccountController.cs (add endpoints)
8. Controllers/CmsController.cs (add endpoints)
9. Repositories/Interface/IShopApplicationRepository.cs
10. Repositories/ShopApplicationRepository.cs
11. EntityConfigurations/ShopApplicationConfiguration.cs
12. Migrations/AddShopApplicationTable.cs

Required Files for Timeline Integration:
---------------------------------------
13. Enums/TimelineItemStatus.cs
14. DTOs/Request/CreateTimelineItemDto.cs
15. DTOs/Request/UpdateTimelineItemDto.cs
16. DTOs/Response/TimelineItemDto.cs
17. DTOs/Response/TimelineOpportunityDto.cs
18. Services/Interface/ITimelineService.cs
19. Services/TimelineService.cs
20. Controllers/ShopController.cs (add timeline endpoints)
21. Controllers/TourDetailsController.cs (add timeline endpoints)
22. Repositories/Interface/ITimelineItemRepository.cs (update existing)
23. Repositories/TimelineItemRepository.cs (update existing)

Database Schema Updates:
------------------------
Existing TimelineItem table Ä‘Ã£ cÃ³:
- ShopId (Guid, FK to Shop) - ALREADY EXISTS - Ä‘á»ƒ link thÃ´ng tin shop

No additional columns needed for TimelineItem.

Shop table cÃ³ thá»ƒ bá»• sung (optional):
- OpeningHours (string) - giá» má»Ÿ cá»­a Ä‘á»ƒ hiá»ƒn thá»‹ trong timeline
- IsActive (bool) - shop cÃ³ Ä‘ang hoáº¡t Ä‘á»™ng khÃ´ng

Migration Scripts:
------------------
1. AddShopApplicationTable.cs
2. AddSpecialtyShopRole.cs
3. UpdateShopTableForTimeline.cs (optional - chá»‰ náº¿u cáº§n thÃªm fields)

Service Registration Updates:
-----------------------------
Program.cs additions:
- builder.Services.AddScoped<IShopApplicationService, ShopApplicationService>();
- builder.Services.AddScoped<ITimelineService, TimelineService>();

UnitOfWork updates:
- IShopApplicationRepository ShopApplicationRepository { get; }

AutoMapper Profile Updates:
---------------------------
- CreateMap<SubmitShopApplicationDto, ShopApplication>();
- CreateMap<ShopApplication, ShopApplicationDto>();
- CreateMap<CreateTimelineItemDto, TimelineItem>();
- CreateMap<TimelineItem, TimelineItemDto>()
    .ForMember(dest => dest.ShopInfo, opt => opt.MapFrom(src => src.Shop));

Key Implementation Notes:
-------------------------
1. TimelineItem.ShopId relationship ALREADY EXISTS in current schema
2. Need to add Status column to track shop confirmation
3. Need notification system when shop added to timeline
4. Need capacity checking logic in TimelineService
5. Need conflict detection (same shop, same time)
6. Need shop availability checking (opening hours)
7. Need email notifications for timeline assignments

Timeline Service Key Methods (Simplified):
------------------------------------------
- GetAvailableShopsAsync(location, shopType, rating)
- AssignShopToTimelineAsync(tourDetailsId, shopId, timelineData)
- GetShopTimelineUsageAsync(shopId, dateRange)
- ValidateTimelineOrderAsync(tourDetailsId)

Shop Controller New Endpoints (Simplified):
-------------------------------------------
GET /api/Shop/my-timeline-usage - Xem cÃ¡c tour Ä‘Ã£ sá»­ dá»¥ng thÃ´ng tin shop

TourDetails Controller New Endpoints:
------------------------------------
GET /api/TourDetails/{id}/available-shops - Browse shops cho timeline
POST /api/TourDetails/{id}/timeline-items - Add shop vÃ o timeline (láº¥y thÃ´ng tin)
PUT /api/TourDetails/timeline-items/{id} - Update timeline item
DELETE /api/TourDetails/timeline-items/{id} - Remove shop khá»i timeline

ğŸ“‹ TIMELINE INTEGRATION WORKFLOW EXAMPLE
=========================================

Scenario: Tour Company táº¡o timeline cho "TÃ¢y Ninh 1 Day Tour"
-------------------------------------------------------------

Step 1: Tour Company Design Timeline
------------------------------------
1. Tour Company login, chá»n TourDetails "TÃ¢y Ninh 1 Day Tour - Saturday"
2. Click "Design Timeline"
3. Timeline editor hiá»ƒn thá»‹:
   - 08:00-09:00: Khá»Ÿi hÃ nh tá»« TP.HCM
   - 09:00-10:30: Äá»n Cao ÄÃ i
   - 10:30-11:00: [EMPTY SLOT] - cáº§n thÃªm shop
   - 11:00-12:00: NÃºi BÃ  Äen
   - 12:00-13:00: [EMPTY SLOT] - cáº§n thÃªm shop Äƒn trÆ°a
   - 13:00-15:00: Äá»‹a Ä‘áº¡o Cá»§ Chi
   - 15:00-15:30: [EMPTY SLOT] - cáº§n thÃªm shop Ä‘áº·c sáº£n
   - 15:30-17:00: Vá» TP.HCM

Step 2: Add Shop to Timeline Slot 1 (10:30-11:00)
--------------------------------------------------
1. Tour Company click vÃ o slot 10:30-11:00
2. System hiá»ƒn thá»‹ "Available Shops":
   - Filter: Location = "TÃ¢y Ninh", ShopType = "Souvenir"
   - Results:
     * "Äáº·c Sáº£n TÃ¢y Ninh ABC" - Rating 4.5, Capacity 50
     * "Cá»­a HÃ ng LÆ°u Niá»‡m XYZ" - Rating 4.2, Capacity 30
     * "Shop Äáº·c Sáº£n 123" - Rating 4.8, Capacity 40
3. Tour Company chá»n "Shop Äáº·c Sáº£n 123"
4. Fill timeline details:
   - Title: "Mua sáº¯m Ä‘áº·c sáº£n Ä‘á»‹a phÆ°Æ¡ng"
   - Description: "KhÃ¡ch tham quan vÃ  mua Ä‘áº·c sáº£n TÃ¢y Ninh"
   - Expected Guests: 25 ngÆ°á»i
   - Duration: 30 phÃºt
5. Click "Add to Timeline"

Step 3: System Processing
-------------------------
1. System táº¡o TimelineItem:
   - TourDetailsId = [tour-id]
   - ShopId = [shop-123-id] - Ä‘á»ƒ láº¥y thÃ´ng tin shop
   - Order = 3
   - StartTime = 10:30
   - Duration = 30 minutes
   - Title = "Mua sáº¯m Ä‘áº·c sáº£n Ä‘á»‹a phÆ°Æ¡ng"
   - Description = "KhÃ¡ch tham quan vÃ  mua Ä‘áº·c sáº£n TÃ¢y Ninh"
2. System load thÃ´ng tin shop tá»« database:
   - Name: "Shop Äáº·c Sáº£n 123"
   - Location: "456 ÄÆ°á»ng DEF, TÃ¢y Ninh"
   - PhoneNumber: "0987654321"
   - OpeningHours: "8:00-18:00"
   - ShopType: "Souvenir"
3. Timeline item hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ thÃ´ng tin

Step 4: Timeline Information Display
-----------------------------------
Timeline item hiá»ƒn thá»‹:
- 10:30-11:00: Mua sáº¯m Ä‘áº·c sáº£n Ä‘á»‹a phÆ°Æ¡ng
- Shop: Shop Äáº·c Sáº£n 123
- Äá»‹a chá»‰: 456 ÄÆ°á»ng DEF, TÃ¢y Ninh
- SÄT: 0987654321
- Giá» má»Ÿ cá»­a: 8:00-18:00
- Loáº¡i: Souvenir
- Ghi chÃº: KhÃ¡ch tham quan vÃ  mua Ä‘áº·c sáº£n TÃ¢y Ninh

No confirmation needed - thÃ´ng tin shop Ä‘Ã£ sáºµn sÃ ng sá»­ dá»¥ng

Step 5: Complete Timeline
-------------------------
Tour Company tiáº¿p tá»¥c add shops cho cÃ¡c slot cÃ²n láº¡i:
- 12:00-13:00: "NhÃ  HÃ ng CÆ¡m Táº¥m TÃ¢y Ninh" (thÃ´ng tin Ä‘Ã£ load)
- 15:00-15:30: "Shop BÃ¡nh TrÃ¡ng NÆ°á»›ng" (thÃ´ng tin Ä‘Ã£ load)

Final Timeline vá»›i thÃ´ng tin shop:
- 08:00-09:00: Khá»Ÿi hÃ nh tá»« TP.HCM
- 09:00-10:30: Äá»n Cao ÄÃ i
- 10:30-11:00: Shop Äáº·c Sáº£n 123 ğŸ“ (456 ÄÆ°á»ng DEF, SÄT: 0987654321)
- 11:00-12:00: NÃºi BÃ  Äen
- 12:00-13:00: NhÃ  HÃ ng CÆ¡m Táº¥m TÃ¢y Ninh ğŸ“ (789 ÄÆ°á»ng GHI, SÄT: 0123456789)
- 13:00-15:00: Äá»‹a Ä‘áº¡o Cá»§ Chi
- 15:00-15:30: Shop BÃ¡nh TrÃ¡ng NÆ°á»›ng ğŸ“ (321 ÄÆ°á»ng JKL, SÄT: 0555666777)
- 15:30-17:00: Vá» TP.HCM

Step 6: Tour Execution Day
--------------------------
1. Tour Guide nháº­n timeline vá»›i Ä‘áº§y Ä‘á»§ thÃ´ng tin shop
2. 10:25 - Tour bus Ä‘áº¿n Ä‘á»‹a chá»‰ "456 ÄÆ°á»ng DEF, TÃ¢y Ninh"
3. Tour Guide cÃ³ thá»ƒ gá»i SÄT 0987654321 náº¿u cáº§n
4. 10:30-11:00 - KhÃ¡ch tham quan "Shop Äáº·c Sáº£n 123"
5. 11:00 - Tour bus tiáº¿p tá»¥c Ä‘áº¿n NÃºi BÃ  Äen theo timeline

Step 7: Shop Usage Analytics (Optional)
---------------------------------------
Shop Owner cÃ³ thá»ƒ xem:
- Timeline usage: shop Ä‘Æ°á»£c sá»­ dá»¥ng trong bao nhiÃªu tour
- Tour companies: danh sÃ¡ch tour company Ä‘Ã£ sá»­ dá»¥ng thÃ´ng tin
- Contact frequency: sá»‘ láº§n Ä‘Æ°á»£c liÃªn há»‡
- Information accuracy: Ä‘áº£m báº£o thÃ´ng tin shop luÃ´n chÃ­nh xÃ¡c

Benefits for All Parties:
-------------------------
Tour Company:
- Timeline cÃ³ Ä‘áº§y Ä‘á»§ thÃ´ng tin shop
- Dá»… dÃ ng liÃªn há»‡ vÃ  Ä‘á»‹nh vá»‹ shop
- Tá»‘i Æ°u thá»i gian tour planning

Shop Owner:
- ThÃ´ng tin shop Ä‘Æ°á»£c sá»­ dá»¥ng chÃ­nh thá»©c
- Potential marketing exposure
- Professional listing trong tour system

Tourists:
- Tour guide cÃ³ thÃ´ng tin chÃ­nh xÃ¡c vá» shop
- Efficient navigation vÃ  contact
- Better tour experience

System:
- Simple information linking
- No complex confirmation workflow
- Easy shop information management
- Clean timeline display

================================================================================
                                    END
================================================================================
