# üéØ TourTemplate Flow Guide & API Integration

## üìã T·ªïng Quan H·ªá Th·ªëng

TayNinhTour s·ª≠ d·ª•ng ki·∫øn tr√∫c **Template-Based Tour Management** v·ªõi flow t·ª± ƒë·ªông h√≥a cao:

```
TourTemplate ‚Üí Auto TourSlots ‚Üí TourDetails ‚Üí TourOperation + Timeline
```

### üîó M·ªëi Quan H·ªá Ch√≠nh

```mermaid
graph TD
    A[TourTemplate] -->|Auto Generate| B[TourSlot]
    A -->|Clone From| C[TourDetails]
    C -->|1:1| D[TourOperation]
    C -->|1:N| E[TimelineItem]
    E -->|Optional| F[SpecialtyShop]
    B -->|Assign| C
```

---

## üöÄ Flow Ch√≠nh c·ªßa TourTemplate

### 1Ô∏è‚É£ **TourTemplate Creation Flow**

**B∆∞·ªõc 1: T·∫°o Template**
- Tour Company t·∫°o template v·ªõi th√¥ng tin c∆° b·∫£n
- H·ªá th·ªëng **t·ª± ƒë·ªông generate TourSlots** cho th√°ng/nƒÉm ƒë√£ ch·ªçn
- Slots ƒë∆∞·ª£c t·∫°o theo `ScheduleDays` (ch·ªâ ƒë∆∞·ª£c ch·ªçn Th·ª© 7=6 ho·∫∑c Ch·ªß nh·∫≠t=0)

**B∆∞·ªõc 2: Auto-Generation**
```javascript
// Khi t·∫°o template th√†nh c√¥ng
POST /api/TourCompany/template
‚Üí Template ƒë∆∞·ª£c t·∫°o
‚Üí Auto generate 4-5 TourSlots cho th√°ng
‚Üí Response bao g·ªìm th√¥ng tin slots ƒë√£ t·∫°o
```

### 2Ô∏è‚É£ **TourDetails Creation Flow**

**B∆∞·ªõc 1: Clone t·ª´ Template**
- Tour Company t·∫°o TourDetails t·ª´ template
- H·ªá th·ªëng **auto-clone t·∫•t c·∫£ TourSlots** t·ª´ template
- T·∫°o relationship TourSlots ‚Üí TourDetails

**B∆∞·ªõc 2: Timeline Management**
- T·∫°o timeline items cho l·ªãch tr√¨nh chi ti·∫øt
- T√≠ch h·ª£p v·ªõi SpecialtyShop (optional)
- S·∫Øp x·∫øp theo th·ªùi gian v√† SortOrder

**B∆∞·ªõc 3: Operation Setup**
- T·∫°o TourOperation (1:1 v·ªõi TourDetails)
- Assign guide, pricing, capacity
- Set tr·∫°ng th√°i ho·∫°t ƒë·ªông

---

## üîß API Endpoints cho Frontend

### **TourTemplate APIs**

#### 1. L·∫•y Danh S√°ch Templates
```http
GET /api/TourCompany/template?pageIndex=1&pageSize=10&templateType=FreeScenic&startLocation=TP.HCM&includeInactive=false
```

**Response:**
```json
{
  "statusCode": 200,
  "message": "L·∫•y danh s√°ch tour templates th√†nh c√¥ng",
  "success": true,
  "data": {
    "items": [
      {
        "id": "guid",
        "title": "Tour N√∫i B√† ƒêen",
        "templateType": "FreeScenic",
        "scheduleDays": "Saturday",
        "startLocation": "TP.HCM",
        "endLocation": "T√¢y Ninh",
        "month": 6,
        "year": 2025,
        "isActive": true,
        "images": ["image1.jpg"],
        "createdAt": "2025-06-24T10:00:00Z",
        "capacitySummary": {
          "totalSlots": 5,
          "availableSlots": 3,
          "totalCapacity": 100
        }
      }
    ],
    "totalCount": 25,
    "pageIndex": 0,
    "pageSize": 10
  }
}
```

#### 2. T·∫°o Template M·ªõi
```http
POST /api/TourCompany/template
Content-Type: application/json
Authorization: Bearer {jwt-token}
```

**Request Body:**
```json
{
  "title": "Tour N√∫i B√† ƒêen VIP",
  "startLocation": "TP.HCM",
  "endLocation": "T√¢y Ninh",
  "templateType": 1,
  "scheduleDays": 6,
  "month": 7,
  "year": 2025,
  "images": ["image1.jpg", "image2.jpg"]
}
```

**‚ö†Ô∏è L∆∞u √Ω**:
- `templateType`: S·ª≠ d·ª•ng s·ªë nguy√™n (1 = FreeScenic, 2 = PaidAttraction)
- `scheduleDays`: Ch·ªâ ƒë∆∞·ª£c d√πng 0 (Sunday) ho·∫∑c 6 (Saturday)
- Kh√¥ng c√≥ tr∆∞·ªùng `description` trong RequestCreateTourTemplateDto
- Validation s·∫Ω reject n·∫øu ch·ªçn Monday-Friday (1-5)

**Response:**
```json
{
  "statusCode": 201,
  "message": "T·∫°o tour template th√†nh c√¥ng v√† ƒë√£ t·∫°o 5 slots cho th√°ng 7/2025",
  "success": true,
  "data": {
    "id": "new-template-guid",
    "title": "Tour N√∫i B√† ƒêen VIP",
    "templateType": "FreeScenic",
    "scheduleDays": "Saturday",
    "startLocation": "TP.HCM",
    "endLocation": "T√¢y Ninh",
    "month": 7,
    "year": 2025,
    "isActive": true,
    "images": ["image1.jpg", "image2.jpg"],
    "createdBy": null,
    "updatedBy": null,
    "createdAt": "2025-06-24T10:00:00Z",
    "updatedAt": null,
    "capacitySummary": null
  }
}
```

#### 3. C·∫≠p Nh·∫≠t Template
```http
PATCH /api/TourCompany/template/{id}
```

**Request Body:**
```json
{
  "title": "Tour N√∫i B√† ƒêen VIP - Updated",
  "templateType": 2,
  "scheduleDays": 0,
  "startLocation": "TP.HCM - C·∫≠p nh·∫≠t",
  "endLocation": "T√¢y Ninh - C·∫≠p nh·∫≠t",
  "images": ["new-image1.jpg"]
}
```

#### 4. X√≥a Template
```http
DELETE /api/TourCompany/template/{id}
```

**Response:**
```json
{
  "statusCode": 200,
  "message": "X√≥a tour template th√†nh c√¥ng",
  "success": true
}
```

### **TourDetails APIs**

#### 1. T·∫°o TourDetails t·ª´ Template
```http
POST /api/TourCompany/details
```

**Request Body:**
```json
{
  "tourTemplateId": "template-guid",
  "title": "L·ªãch tr√¨nh VIP N√∫i B√† ƒêen",
  "description": "L·ªãch tr√¨nh cao c·∫•p v·ªõi d·ªãch v·ª• VIP",
  "skillsRequired": "Ti·∫øng Anh, L·ªãch s·ª≠ ƒë·ªãa ph∆∞∆°ng"
}
```

**Response:**
```json
{
  "statusCode": 201,
  "message": "T·∫°o tour details th√†nh c√¥ng v√† ƒë√£ clone 5 TourSlots",
  "success": true,
  "data": {
    "id": "details-guid",
    "title": "L·ªãch tr√¨nh VIP N√∫i B√† ƒêen",
    "description": "L·ªãch tr√¨nh cao c·∫•p v·ªõi d·ªãch v·ª• VIP",
    "status": 0,
    "commentApproved": null,
    "skillsRequired": "Ti·∫øng Anh, L·ªãch s·ª≠ ƒë·ªãa ph∆∞∆°ng",
    "tourTemplateId": "template-guid",
    "createdAt": "2025-06-24T10:05:00Z",
    "updatedAt": null
  }
}
```

#### 2. L·∫•y Chi Ti·∫øt TourDetails
```http
GET /api/TourCompany/details/{id}
```

**Response:**
```json
{
  "statusCode": 200,
  "data": {
    "id": "details-guid",
    "title": "L·ªãch tr√¨nh VIP N√∫i B√† ƒêen",
    "description": "L·ªãch tr√¨nh cao c·∫•p",
    "status": 1,
    "commentApproved": null,
    "skillsRequired": "Ti·∫øng Anh, L·ªãch s·ª≠ ƒë·ªãa ph∆∞∆°ng",
    "tourTemplateId": "template-guid",
    "tourTemplate": {
      "id": "template-guid",
      "title": "Tour N√∫i B√† ƒêen",
      "templateType": 1,
      "scheduleDays": 6
    },
    "tourOperation": {
      "id": "operation-guid",
      "guideId": "guide-guid",
      "price": 500000,
      "maxSeats": 20,
      "status": 1,
      "description": null,
      "notes": null,
      "isActive": true
    },
    "timeline": [
      {
        "id": "timeline-1",
        "tourDetailsId": "details-guid",
        "checkInTime": "05:00",
        "activity": "Kh·ªüi h√†nh t·ª´ TP.HCM",
        "specialtyShopId": null,
        "sortOrder": 1,
        "specialtyShop": null,
        "createdAt": "2025-06-24T10:00:00Z",
        "updatedAt": null
      },
      {
        "id": "timeline-2",
        "tourDetailsId": "details-guid",
        "checkInTime": "09:00",
        "activity": "Gh√© shop b√°nh tr√°ng",
        "specialtyShopId": "shop-guid",
        "sortOrder": 2,
        "specialtyShop": {
          "id": "shop-guid",
          "shopName": "Shop B√°nh Tr√°ng T√¢y Ninh",
          "location": "T√¢y Ninh",
          "isShopActive": true
        },
        "createdAt": "2025-06-24T10:05:00Z",
        "updatedAt": null
      }
    ],
    "assignedSlots": [
      {
        "id": "slot-1",
        "tourTemplateId": "template-guid",
        "tourDate": "2025-07-05",
        "scheduleDay": 6,
        "status": 1,
        "tourDetailsId": "details-guid",
        "isActive": true,
        "createdAt": "2025-06-24T10:00:00Z",
        "updatedAt": null
      }
    ]
  }
}
```

### **Timeline Management APIs**

#### 1. T·∫°o Timeline Item
```http
POST /api/TourCompany/details/timeline
```

**Request Body:**
```json
{
  "tourDetailsId": "details-guid",
  "checkInTime": "10:00",
  "activity": "Tham quan ch√πa B√† ƒêen",
  "sortOrder": 3
}
```

#### 2. T·∫°o Nhi·ªÅu Timeline Items
```http
POST /api/TourCompany/details/timeline/batch
```

**Request Body:**
```json
{
  "tourDetailsId": "details-guid",
  "timelineItems": [
    {
      "checkInTime": "07:00",
      "activity": "ƒÇn s√°ng",
      "sortOrder": 2
    },
    {
      "checkInTime": "08:00", 
      "activity": "Kh·ªüi h√†nh ƒë·∫øn N√∫i B√†",
      "sortOrder": 3
    }
  ]
}
```

---

## üí° Frontend Integration Tips

### 1. **State Management**
```javascript
// Recommended state structure
const tourState = {
  templates: [],
  currentTemplate: null,
  tourDetails: [],
  currentDetails: null,
  timeline: [],
  loading: false,
  error: null
}
```

### 2. **API Call Patterns**
```javascript
// Create template with auto-slot generation
const createTemplate = async (templateData) => {
  try {
    const response = await api.post('/api/TourCompany/template', templateData);
    // Response includes auto-generated slots info
    console.log(`Created ${response.data.autoGeneratedSlots} slots`);
    return response.data;
  } catch (error) {
    handleApiError(error);
  }
};

// Create details with auto-cloning
const createTourDetails = async (detailsData) => {
  try {
    const response = await api.post('/api/TourCompany/details', detailsData);
    // Response includes cloned slots info
    console.log(`Cloned ${response.data.clonedSlotsCount} slots`);
    return response.data;
  } catch (error) {
    handleApiError(error);
  }
};
```

### 3. **Error Handling**
```javascript
const handleApiError = (error) => {
  if (error.response?.status === 400) {
    // Validation errors
    const validationErrors = error.response.data.validationErrors;
    showValidationErrors(validationErrors);
  } else if (error.response?.status === 403) {
    // Permission denied
    showPermissionError();
  } else {
    // General error
    showGeneralError(error.message);
  }
};
```

### 4. **Real-time Updates**
```javascript
// Listen for template/details updates
const subscribeToUpdates = () => {
  // WebSocket or polling for status changes
  socket.on('tourDetailsStatusChanged', (data) => {
    updateTourDetailsStatus(data.id, data.status);
  });
  
  socket.on('slotsGenerated', (data) => {
    refreshTemplateSlots(data.templateId);
  });
};
```

---

## ‚ö†Ô∏è L∆∞u √ù Quan Tr·ªçng

### **Enum Values**
1. **TourTemplateType**: Ch·ªâ c√≥ 2 lo·∫°i
   - `FreeScenic = 1`: Tour danh lam th·∫Øng c·∫£nh (mi·ªÖn ph√≠ v√†o c·ª≠a)
   - `PaidAttraction = 2`: Tour khu vui ch∆°i (c√≥ ph√≠ v√†o c·ª≠a)

2. **ScheduleDay**: Ch·ªâ ƒë∆∞·ª£c ch·ªçn **Th·ª© 7 ho·∫∑c Ch·ªß nh·∫≠t**
   - `Sunday = 0` (Ch·ªß nh·∫≠t) ‚úÖ
   - `Saturday = 6` (Th·ª© b·∫£y) ‚úÖ
   - **KH√îNG** ƒë∆∞·ª£c ch·ªçn Monday-Friday (1-5)
   - **KH√îNG** ƒë∆∞·ª£c ch·ªçn nhi·ªÅu ng√†y c√πng l√∫c

3. **Status Values**: S·ª≠ d·ª•ng s·ªë nguy√™n, kh√¥ng ph·∫£i string
   - TourDetailsStatus: `Pending = 0`, `Approved = 1`, etc.
   - TourSlotStatus: `Available = 1`, `FullyBooked = 2`, etc.
   - TourOperationStatus: `Scheduled = 1`, `InProgress = 2`, etc.

### **API Behavior**
4. **Auto-Generation**: Khi t·∫°o template, slots ƒë∆∞·ª£c t·ª± ƒë·ªông t·∫°o
5. **Auto-Cloning**: Khi t·∫°o details, slots ƒë∆∞·ª£c t·ª± ƒë·ªông clone
6. **Permission**: Ch·ªâ owner m·ªõi c√≥ th·ªÉ modify template/details
7. **Timeline Order**: S·ª≠ d·ª•ng SortOrder v√† CheckInTime ƒë·ªÉ s·∫Øp x·∫øp
8. **SpecialtyShop Integration**: Optional trong timeline items (d√πng specialtyShopId)

### **Validation Error Examples**

**Khi ch·ªçn ng√†y kh√¥ng h·ª£p l·ªá:**
```json
{
  "statusCode": 400,
  "message": "D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá",
  "success": false,
  "validationErrors": [
    "Ch·ªâ ƒë∆∞·ª£c ch·ªçn Th·ª© 7 (Saturday) ho·∫∑c Ch·ªß nh·∫≠t (Sunday) cho tour template"
  ],
  "fieldErrors": {
    "ScheduleDays": [
      "Ch·ªâ ƒë∆∞·ª£c ch·ªçn Th·ª© 7 (Saturday) ho·∫∑c Ch·ªß nh·∫≠t (Sunday) cho tour template"
    ]
  }
}
```

**Request g√¢y l·ªói (ch·ªçn Monday = 1):**
```json
{
  "title": "Tour Test",
  "startLocation": "TP.HCM",
  "endLocation": "T√¢y Ninh",
  "templateType": 1,
  "scheduleDays": 1,  // ‚ùå Monday kh√¥ng ƒë∆∞·ª£c ph√©p
  "month": 7,
  "year": 2025
}
```

---

## üîÑ Workflow T·ªïng Th·ªÉ

```
1. Tour Company t·∫°o TourTemplate
   ‚Üì (Auto-generate slots)
2. TourSlots ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông
   ‚Üì (Create details)
3. TourDetails ƒë∆∞·ª£c t·∫°o t·ª´ template
   ‚Üì (Auto-clone slots)
4. TourSlots ƒë∆∞·ª£c clone cho details
   ‚Üì (Add timeline)
5. Timeline items ƒë∆∞·ª£c th√™m v√†o
   ‚Üì (Setup operation)
6. TourOperation ƒë∆∞·ª£c c·∫•u h√¨nh
   ‚Üì (Ready for booking)
7. Tour s·∫µn s√†ng cho kh√°ch ƒë·∫∑t
```

---

## üìä Enums & Constants

### **TourTemplateType**
```javascript
const TourTemplateType = {
  FreeScenic: 1,                      // Tour danh lam th·∫Øng c·∫£nh (mi·ªÖn ph√≠ v√†o c·ª≠a)
  PaidAttraction: 2                   // Tour khu vui ch∆°i (c√≥ ph√≠ v√†o c·ª≠a)
};
```

### **ScheduleDay**
```javascript
const ScheduleDay = {
  Sunday: 0,                          // Ch·ªß nh·∫≠t ‚úÖ ƒê∆∞·ª£c ph√©p
  Saturday: 6                         // Th·ª© b·∫£y ‚úÖ ƒê∆∞·ª£c ph√©p
};

// C√°c ng√†y KH√îNG ƒë∆∞·ª£c ph√©p (s·∫Ω b·ªã validation error):
const NotAllowedDays = {
  Monday: 1,                          // Th·ª© hai ‚ùå
  Tuesday: 2,                         // Th·ª© ba ‚ùå
  Wednesday: 3,                       // Th·ª© t∆∞ ‚ùå
  Thursday: 4,                        // Th·ª© nƒÉm ‚ùå
  Friday: 5                           // Th·ª© s√°u ‚ùå
};
```
**‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng**:
- Ch·ªâ ƒë∆∞·ª£c ch·ªçn **Th·ª© 7 (Saturday = 6)** ho·∫∑c **Ch·ªß nh·∫≠t (Sunday = 0)**
- Kh√¥ng ƒë∆∞·ª£c ch·ªçn c√°c ng√†y trong tu·∫ßn (Monday-Friday)
- Ch·ªâ ƒë∆∞·ª£c ch·ªçn **M·ªòT** ng√†y duy nh·∫•t, kh√¥ng th·ªÉ ch·ªçn nhi·ªÅu ng√†y

### **TourSlotStatus**
```javascript
const TourSlotStatus = {
  Available: 1,                       // Slot c√≥ s·∫µn ƒë·ªÉ booking
  FullyBooked: 2,                     // Slot ƒë√£ ƒë∆∞·ª£c booking ƒë·∫ßy
  Cancelled: 3,                       // Slot b·ªã h·ªßy (do th·ªùi ti·∫øt, b·∫£o tr√¨, etc.)
  Completed: 4,                       // Slot ƒë√£ ho√†n th√†nh
  InProgress: 5                       // Slot ƒëang trong qu√° tr√¨nh th·ª±c hi·ªán
};
```

### **TourDetailsStatus**
```javascript
const TourDetailsStatus = {
  Pending: 0,                         // Ch·ªù duy·ªát
  Approved: 1,                        // ƒê√£ ƒë∆∞·ª£c duy·ªát
  Rejected: 2,                        // B·ªã t·ª´ ch·ªëi
  Suspended: 3,                       // T·∫°m ng∆∞ng
  AwaitingGuideAssignment: 4,         // Ch·ªù ph√¢n c√¥ng h∆∞·ªõng d·∫´n vi√™n
  Cancelled: 5,                       // ƒê√£ h·ªßy
  AwaitingAdminApproval: 6            // Ch·ªù admin duy·ªát
};
```

### **TourOperationStatus**
```javascript
const TourOperationStatus = {
  Scheduled: 1,                       // Operation ƒë√£ ƒë∆∞·ª£c l√™n l·ªãch v√† s·∫µn s√†ng
  InProgress: 2,                      // Operation ƒëang ƒë∆∞·ª£c th·ª±c hi·ªán
  Completed: 3,                       // Operation ƒë√£ ho√†n th√†nh th√†nh c√¥ng
  Cancelled: 4,                       // Operation b·ªã h·ªßy
  Postponed: 5,                       // Operation b·ªã ho√£n
  PendingConfirmation: 6              // Operation ƒëang ch·ªù x√°c nh·∫≠n t·ª´ guide
};
```

---

## ‚úÖ Validation Rules

### **TourTemplate Validation**
```javascript
const templateValidation = {
  title: {
    required: true,
    maxLength: 200,
    message: "Vui l√≤ng nh·∫≠p t√™n template (kh√¥ng qu√° 200 k√Ω t·ª±)"
  },
  templateType: {
    required: true,
    enum: [1, 2], // FreeScenic = 1, PaidAttraction = 2
    message: "Vui l√≤ng ch·ªçn th·ªÉ lo·∫°i tour"
  },
  scheduleDays: {
    required: true,
    enum: [0, 6], // Ch·ªâ Sunday=0 ho·∫∑c Saturday=6
    message: "Vui l√≤ng ch·ªçn th·ª© (ch·ªâ ƒë∆∞·ª£c ch·ªçn Th·ª© 7 ho·∫∑c Ch·ªß nh·∫≠t)"
  },
  startLocation: {
    required: true,
    maxLength: 500,
    message: "Vui l√≤ng nh·∫≠p ƒëi·ªÉm b·∫Øt ƒë·∫ßu (kh√¥ng qu√° 500 k√Ω t·ª±)"
  },
  endLocation: {
    required: true,
    maxLength: 500,
    message: "Vui l√≤ng nh·∫≠p ƒëi·ªÉm k·∫øt th√∫c (kh√¥ng qu√° 500 k√Ω t·ª±)"
  },
  month: {
    required: true,
    min: 1,
    max: 12,
    message: "Th√°ng ph·∫£i t·ª´ 1 ƒë·∫øn 12"
  },
  year: {
    required: true,
    min: 2024,
    max: 2030,
    message: "NƒÉm ph·∫£i t·ª´ 2024 ƒë·∫øn 2030"
  },
  images: {
    required: false,
    type: "array",
    message: "Danh s√°ch h√¨nh ·∫£nh (t√πy ch·ªçn)"
  }
};
```

### **Timeline Validation**
```javascript
const timelineValidation = {
  checkInTime: {
    required: true,
    pattern: /^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,
    message: "Th·ªùi gian ph·∫£i theo ƒë·ªãnh d·∫°ng HH:mm (00:00-23:59)"
  },
  activity: {
    required: true,
    maxLength: 255,
    message: "Ho·∫°t ƒë·ªông l√† b·∫Øt bu·ªôc v√† kh√¥ng qu√° 255 k√Ω t·ª±"
  },
  sortOrder: {
    min: 1,
    message: "Th·ª© t·ª± ph·∫£i l·ªõn h∆°n 0"
  }
};
```

---

## üé® UI/UX Recommendations

### **Template Creation Form**
```javascript
const TemplateForm = () => {
  const [formData, setFormData] = useState({
    title: '',
    templateType: '',
    scheduleDays: '',
    startLocation: '',
    endLocation: '',
    month: new Date().getMonth() + 1,
    year: new Date().getFullYear(),
    images: []
  });

  const handleSubmit = async (e) => {
    e.preventDefault();

    // Validate form
    const errors = validateTemplate(formData);
    if (errors.length > 0) {
      setValidationErrors(errors);
      return;
    }

    // Submit with loading state
    setLoading(true);
    try {
      const result = await createTemplate(formData);
      showSuccess(`Template created with ${result.autoGeneratedSlots} slots`);
      navigate('/templates');
    } catch (error) {
      handleApiError(error);
    } finally {
      setLoading(false);
    }
  };

  return (
    <form onSubmit={handleSubmit}>
      {/* Form fields */}
    </form>
  );
};
```

### **Timeline Builder Component**
```javascript
const TimelineBuilder = ({ tourDetailsId, timeline, onUpdate }) => {
  const [items, setItems] = useState(timeline || []);

  const addTimelineItem = () => {
    const newItem = {
      checkInTime: '',
      activity: '',
      sortOrder: items.length + 1
    };
    setItems([...items, newItem]);
  };

  const saveTimeline = async () => {
    try {
      const result = await createTimelineItems({
        tourDetailsId,
        timelineItems: items
      });
      onUpdate(result.data);
      showSuccess(`Created ${result.createdCount} timeline items`);
    } catch (error) {
      handleApiError(error);
    }
  };

  return (
    <div className="timeline-builder">
      {items.map((item, index) => (
        <TimelineItemForm
          key={index}
          item={item}
          onChange={(updatedItem) => updateItem(index, updatedItem)}
        />
      ))}
      <button onClick={addTimelineItem}>Add Timeline Item</button>
      <button onClick={saveTimeline}>Save Timeline</button>
    </div>
  );
};
```

---

## üîç Debugging & Monitoring

### **API Response Monitoring**
```javascript
// Log API responses for debugging
const apiLogger = (response) => {
  console.group(`API Response: ${response.config.method.toUpperCase()} ${response.config.url}`);
  console.log('Status:', response.status);
  console.log('Data:', response.data);
  console.log('Headers:', response.headers);
  console.groupEnd();
};

// Add to axios interceptor
axios.interceptors.response.use(
  (response) => {
    if (process.env.NODE_ENV === 'development') {
      apiLogger(response);
    }
    return response;
  },
  (error) => {
    console.error('API Error:', error.response?.data || error.message);
    return Promise.reject(error);
  }
);
```

### **Performance Monitoring**
```javascript
// Track API performance
const performanceTracker = {
  startTime: null,

  start(operation) {
    this.startTime = performance.now();
    console.log(`Starting ${operation}...`);
  },

  end(operation) {
    const duration = performance.now() - this.startTime;
    console.log(`${operation} completed in ${duration.toFixed(2)}ms`);
  }
};

// Usage
performanceTracker.start('Create Template');
await createTemplate(data);
performanceTracker.end('Create Template');
```

H∆∞·ªõng d·∫´n n√†y cung c·∫•p ƒë·∫ßy ƒë·ªß th√¥ng tin ƒë·ªÉ FE developer t√≠ch h·ª£p v·ªõi TourTemplate system m·ªôt c√°ch hi·ªáu qu·∫£ v√† chuy√™n nghi·ªáp.
